(()=>{var e={};e.id=5658,e.ids=[5658],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},42882:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,originalPathname:()=>p,pages:()=>d,routeModule:()=>h,tree:()=>u}),r(68938),r(77478),r(54141),r(68295),r(18131),r(6907),r(83724);var a=r(23191),s=r(88716),n=r(37922),i=r.n(n),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let u=["",{children:["dashboard",{children:["(dashboard)",{children:["addNews",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,68938)),"D:\\Programming\\programming projects\\important ptojects\\news\\news2\\src\\app\\dashboard\\(dashboard)\\addNews\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,77478)),"D:\\Programming\\programming projects\\important ptojects\\news\\news2\\src\\app\\dashboard\\(dashboard)\\layout.js"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,54141)),"D:\\Programming\\programming projects\\important ptojects\\news\\news2\\src\\app\\dashboard\\layout.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,68295)),"D:\\Programming\\programming projects\\important ptojects\\news\\news2\\src\\app\\layout.js"],error:[()=>Promise.resolve().then(r.bind(r,18131)),"D:\\Programming\\programming projects\\important ptojects\\news\\news2\\src\\app\\error.js"],loading:[()=>Promise.resolve().then(r.bind(r,6907)),"D:\\Programming\\programming projects\\important ptojects\\news\\news2\\src\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,83724)),"D:\\Programming\\programming projects\\important ptojects\\news\\news2\\src\\app\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\Programming\\programming projects\\important ptojects\\news\\news2\\src\\app\\dashboard\\(dashboard)\\addNews\\page.js"],p="/dashboard/(dashboard)/addNews/page",c={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/(dashboard)/addNews/page",pathname:"/dashboard/addNews",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},22376:(e,t,r)=>{Promise.resolve().then(r.bind(r,55431))},65166:function(e,t,r){var a,s,n;n=function(t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(r);function n(e){return e&&e.__esModule?e:{default:e}}n(a);var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};function l(e,t){var r={};for(var a in e)!(t.indexOf(a)>=0)&&Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}var u={className:"react-tagsinput-input",placeholder:"Add a tag"},d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={tag:"",isFocused:!1},e.focus=e.focus.bind(e),e.blur=e.blur.bind(e),e.accept=e.accept.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"_getTagDisplayValue",value:function(e){var t=this.props.tagDisplayProp;return t?e[t]:e}},{key:"_makeTag",value:function(e){var t,r=this.props.tagDisplayProp;return r?(r in(t={})?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t):e}},{key:"_removeTag",value:function(e){var t=this.props.value.concat([]);if(e>-1&&e<t.length){var r=t.splice(e,1);this.props.onChange(t,r,[e])}}},{key:"_clearInput",value:function(){this.hasControlledInput()?this.props.onChangeInput(""):this.setState({tag:""})}},{key:"_tag",value:function(){return this.hasControlledInput()?this.props.inputValue:this.state.tag}},{key:"_addTags",value:function(e){var t=this,r=this.props,a=r.onChange,s=r.onValidationReject,n=r.onlyUnique,i=r.maxTags,o=r.value;n&&(e=(e=function(e){for(var t=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&t.push("string"==typeof e[r]?e[r].trim():e[r]);return t}(e)).filter(function(e){return o.every(function(r){return t._getTagDisplayValue(r)!==t._getTagDisplayValue(e)})}));var l=e.filter(function(e){return!t._validate(t._getTagDisplayValue(e))});if(e=(e=e.filter(function(e){return t._validate(t._getTagDisplayValue(e))})).filter(function(e){var r=t._getTagDisplayValue(e);return"function"==typeof r.trim?r.trim().length>=0:r}),i>=0){var u=Math.max(i-o.length,0);e=e.slice(0,u)}if(s&&l.length>0&&s(l),e.length>0){for(var d=o.concat(e),p=[],c=0;c<e.length;c++)p.push(o.length+c);return a(d,e,p),this._clearInput(),!0}return!(l.length>0)&&(this._clearInput(),!1)}},{key:"_validate",value:function(e){var t=this.props,r=t.validate,a=t.validationRegex;return r(e)&&a.test(e)}},{key:"_shouldPreventDefaultEventOnAdd",value:function(e,t,r){return!!e||"Enter"===r&&(this.props.preventSubmit||!this.props.preventSubmit&&!t)}},{key:"focus",value:function(){this.input&&"function"==typeof this.input.focus&&this.input.focus(),this.handleOnFocus()}},{key:"blur",value:function(){this.input&&"function"==typeof this.input.blur&&this.input.blur(),this.handleOnBlur()}},{key:"accept",value:function(){var e=this.props.preventSubmit,t=this._tag();return(""!==t||!e)&&(t=this._makeTag(t),this._addTags([t]))}},{key:"addTag",value:function(e){return this._addTags([e])}},{key:"clearInput",value:function(){this._clearInput()}},{key:"handlePaste",value:function(e){var t=this,r=this.props,a=r.addOnPaste,s=r.pasteSplit;if(a){e.preventDefault();var n=s(window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):"").map(function(e){return t._makeTag(e)});this._addTags(n)}}},{key:"handleKeyDown",value:function(e){if(!e.defaultPrevented){var t=this.props,r=t.value,a=t.removeKeys,s=t.addKeys,n=""===this._tag(),i=e.keyCode,o=e.key,l=-1!==s.indexOf(i)||-1!==s.indexOf(o),u=-1!==a.indexOf(i)||-1!==a.indexOf(o);if(l){var d=this.accept();this._shouldPreventDefaultEventOnAdd(d,n,o)&&e.preventDefault()}u&&r.length>0&&n&&(e.preventDefault(),this._removeTag(r.length-1))}}},{key:"handleClick",value:function(e){var t=e.target,r=e.target&&e.target.parentElement;(t===this.div||r===this.div)&&this.focus()}},{key:"handleChange",value:function(e){var t=this.props.onChangeInput,r=this.props.inputProps.onChange,a=e.target.value;r&&r(e),this.hasControlledInput()?t(a):this.setState({tag:a})}},{key:"handleOnFocus",value:function(e){var t=this.props.inputProps.onFocus;t&&t(e),this.setState({isFocused:!0})}},{key:"handleOnBlur",value:function(e){var t=this.props.inputProps.onBlur;if(this.setState({isFocused:!1}),null!=e&&(t&&t(e),this.props.addOnBlur&&e.target.value)){var r=this._makeTag(e.target.value);this._addTags([r])}}},{key:"handleRemove",value:function(e){this._removeTag(e)}},{key:"inputProps",value:function(){var e=this.props.inputProps,t=o({},u,(e.onChange,e.onFocus,e.onBlur,l(e,["onChange","onFocus","onBlur"])));return this.props.disabled&&(t.disabled=!0),t}},{key:"inputValue",value:function(e){return e.currentValue||e.inputValue||""}},{key:"hasControlledInput",value:function(){var e=this.props,t=e.inputValue;return"function"==typeof e.onChangeInput&&"string"==typeof t}},{key:"componentDidMount",value:function(){this.hasControlledInput()||this.setState({tag:this.inputValue(this.props)})}},{key:"componentDidUpdate",value:function(e){!this.hasControlledInput()&&this.inputValue(this.props)&&this.inputValue(e)!==this.inputValue(this.props)&&this.setState({tag:this.inputValue(this.props)})}},{key:"render",value:function(){var e=this,t=this.props,r=t.value,a=t.tagProps,n=t.renderLayout,i=t.renderTag,l=t.renderInput,u=t.className,d=t.focusedClassName,p=t.disabled,c=this.state.isFocused,h=r.map(function(t,r){return i(o({key:r,tag:t,onRemove:e.handleRemove.bind(e),disabled:p,getTagDisplayValue:e._getTagDisplayValue.bind(e)},a))}),g=l(o({ref:function(t){e.input=t},value:this._tag(),onPaste:this.handlePaste.bind(this),onKeyDown:this.handleKeyDown.bind(this),onChange:this.handleChange.bind(this),onFocus:this.handleOnFocus.bind(this),onBlur:this.handleOnBlur.bind(this),addTag:this.addTag.bind(this)},this.inputProps()));return s.default.createElement("div",{ref:function(t){e.div=t},onClick:this.handleClick.bind(this),className:u+(c?" "+d:"")},n(h,g))}}]),t}(s.default.Component);d.defaultProps={className:"react-tagsinput",focusedClassName:"react-tagsinput--focused",addKeys:["Tab","Enter"],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:["Backspace"],renderInput:function(e){e.addTag;var t=l(e,["addTag"]),r=t.onChange,a=t.value,n=l(t,["onChange","value"]);return s.default.createElement("input",o({type:"text",onChange:r,value:a},n))},renderTag:function(e){var t=e.tag,r=e.key,a=e.disabled,n=e.onRemove,i=e.classNameRemove,u=e.getTagDisplayValue,d=l(e,["tag","key","disabled","onRemove","classNameRemove","getTagDisplayValue"]);return s.default.createElement("span",o({key:r},d),u(t),!a&&s.default.createElement("a",{className:i,onClick:function(e){return n(r)}}))},renderLayout:function(e,t){return s.default.createElement("span",null,e,t)},pasteSplit:function(e){return e.split(" ").map(function(e){return e.trim()})},tagProps:{className:"react-tagsinput-tag",classNameRemove:"react-tagsinput-remove"},onlyUnique:!1,maxTags:-1,validate:function(){return!0},validationRegex:/.*/,disabled:!1,tagDisplayProp:null,preventSubmit:!0},t.default=d,e.exports=t.default},a=[t,r(17577),r(78439)],void 0!==(s=n.apply(t,a))&&(e.exports=s)},55431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(10326),s=r(63056),n=r(3652),i=r(44099),o=r(86615),l=r(35047),u=r(17577),d=r(96691),p=r(65166),c=r.n(p);r(61121);var h=r(29394);r(45735);let g=({value:e,onChange:t})=>{let r=(0,u.useRef)(null);return(0,u.useRef)(null),(0,u.useEffect)(()=>{},[e,t]),a.jsx("div",{ref:r,style:{height:"400px",direction:"ltr"}})};function m(){(0,o.getCookie)("adminData");let[e,t]=(0,u.useState)(""),[r,p]=(0,u.useState)([]),[m,f]=(0,u.useState)([]),[v,x]=(0,u.useState)([]),[b,y]=(0,u.useState)([]),[j,w]=(0,u.useState)(!1),_=(0,l.useRouter)(),[P,N]=(0,u.useState)(""),[k,C]=(0,u.useState)(""),[D,T]=(0,u.useState)(""),[O,S]=(0,u.useState)({title:"",description:"",writer:"",event_date:"",img:"",url:"",part1:"",part2:"",part3:"",keyWords:"",category_id:"",status:"",adsenseCode:"",videoUrl:"",videoLabel:"",suggestedNews_ids:""});return(0,a.jsxs)("div",{className:"min-h-[550px] w-full flex flex-col gap-6",children:[function(){if(j)return a.jsx("div",{className:"fixed w-full h-full bg-gray-200/80 z-50 flex items-center justify-center top-0 right-0",children:a.jsx(s.Z,{})})}(),(0,a.jsxs)("form",{onSubmit:function(t){t.preventDefault();let r={title:O.title,writer:O.writer,event_date:O.event_date,img:O.img,url:O.url,part1:P,part2:k,part3:D,"keyWords[]":O.keyWords,category_id:O.category_id,status:"reviewed",adsenseCode:e.admin.adsenseCode,description:O.description,videoUrl:O.videoUrl,videoLabel:O.videoLabel,suggested_news_ids:JSON.stringify(O.suggestedNews_ids)};return O.title&&O.writer&&O.img&&r.part1&&O.category_id&&O.description?O.description.length<=160?P.length>=2e3?void(w(!0),(0,i.Z)({url:`${n.BD}/admin/create/news`,method:"post",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"multipart/form-data"},data:r}).then(e=>(console.log(e),w(!1),_.replace("/dashboard/myNews/review"),h.Am.success("تم انشاء الخبر بنجاح"))).catch(e=>(console.log(e),w(!1),h.Am.error("حدث خطا ما! حاول مجددا")))):h.Am.warn("يجب ان يكون  المقال اكثر من 2000 حرف"):h.Am.warn("يجب ان يكون وصف الخبر اقل من 160 حرف"):h.Am.warn("يجب اكمال البيانات المفقوده")},className:"bg-white  p-6 flex flex-col gap-6",children:[a.jsx("h2",{className:" text-red-700 font-bold text-2xl",children:"اضافه خبر جديد"}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{children:"عنوان الخبر"}),a.jsx("br",{}),a.jsx("input",{type:"text",onChange:e=>{S(t=>({...t,title:e.target.value}))},placeholder:"ادخل عنوان الخبر",className:"w-full h-10 text-sm rounded-lg p-2 border-gray-200 border focus:border-[2px] outline-none"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{children:"الوصف"}),a.jsx("br",{}),a.jsx("input",{type:"text",onChange:e=>{S(t=>({...t,description:e.target.value}))},placeholder:"ادخل وصف الخبر  ",className:"w-full h-10 text-sm rounded-lg p-2 border-gray-200 border focus:border-[2px] outline-none"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{children:"القسم"}),a.jsx("br",{}),a.jsx(d.ZP,{options:r,onChange:e=>{S(t=>({...t,category_id:e.value}))}})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{children:"الكاتب"}),a.jsx("br",{}),a.jsx("input",{type:"text",placeholder:"كاتب المقال",onChange:e=>{S(t=>({...t,writer:e.target.value}))},className:"w-full h-10 text-sm rounded-lg p-2 border-gray-200 border focus:border-[2px] outline-none"})]}),a.jsx("div",{className:"w-full h-[1px] bg-red-700 my-3"}),(0,a.jsxs)("div",{children:[a.jsx("label",{children:"صوره الخبر"}),a.jsx("br",{}),a.jsx("input",{type:"file",placeholder:"",onChange:e=>{S(t=>({...t,img:e.target.files[0]}))},className:"w-full h-10 text-sm rounded-lg p-2 border-gray-200 border focus:border-[2px] outline-none"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{children:"الاخبار المقترحه"}),a.jsx("br",{}),a.jsx(d.ZP,{options:m,isMulti:!0,value:b,onChange:e=>{let t=e?.map(e=>e.value);y(e),S(e=>({...e,suggestedNews_ids:t}))}})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{children:"فيديو خاص بالخبر"}),a.jsx("br",{}),a.jsx("p",{className:"text-xs text-blue-500",children:"يظهر عنوان الفيديو تحت القسم الجزء الثانى من المقال"}),(0,a.jsxs)("div",{className:"border p-3 flex flex-col gap-4 rounded-md",children:[a.jsx("input",{type:"text",placeholder:"ادخل اسم الفيديو",onChange:e=>{S(t=>({...t,videoLabel:e.target.value}))},className:"w-full h-10 text-sm rounded-lg p-2 border-gray-200 border focus:border-[2px] outline-none"}),a.jsx("input",{type:"url",placeholder:"رابط الفيديو",onChange:e=>{S(t=>({...t,videoUrl:e.target.value}))},className:"w-full h-10 text-sm rounded-lg p-2 border-gray-200 border focus:border-[2px] outline-none"})]})]}),a.jsx("div",{className:"w-full h-[1px] bg-red-700 my-3"}),(0,a.jsxs)("div",{children:[a.jsx("label",{children:"الجزء الاول من المقال"}),a.jsx("br",{}),a.jsx(g,{onChange:e=>{N(e)}})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{children:"الكلمات المفتاحيه"}),a.jsx("br",{}),a.jsx(c(),{value:v||[""],onChange:e=>{x(e),S(t=>({...t,keyWords:e}))}})]})]}),(0,a.jsxs)("div",{className:"p-4 border border-red-700 rounded-md text-gray-500 font-bold text-sm",children:[a.jsx("h2",{className:"text-lg",children:" اتباع القواعد اللغوية والاملائيه"}),(0,a.jsxs)("ol",{className:"p-2 pr-6",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-red-700"}),a.jsx("li",{children:"مراعاه ال seo"})]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-red-700"}),(0,a.jsxs)("li",{children:["لا تقل عن ٣٥٠ كلمه ","(2000 حرف)"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-red-700"}),(0,a.jsxs)("li",{children:["الوصف ا يعزيد عن ٢٠ كلمه ","(160 حرف)"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-red-700"}),a.jsx("li",{children:"العنوان  الرئيسي لا يزيد عن ١٠ كلمات"})]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-red-700"}),(0,a.jsxs)("li",{children:["مراعات عمل عناوين فرعيه ","(heading 2)"]})]})]})]}),(0,a.jsxs)("div",{className:" flex gap-6 flex-col sm:flex-row",children:[a.jsx("input",{type:"submit",value:"اضافه خبر جديد",className:" text-white bg-red-700 p-2 px-6 cursor-pointer hover:bg-red-800 rounded-lg"}),a.jsx("input",{type:"button",onClick:function(t){t.preventDefault(),w(!0);let r={title:O.title,writer:O.writer,event_date:O.event_date,img:O.img,url:O.url,part1:P,part2:k,part3:D,"keyWords[]":O.keyWords,category_id:O.category_id,status:"pending",adsenseCode:e.admin.adsenseCode,description:O.description,videoUrl:O.videoUrl,videoLabel:O.videoLabel,suggested_news_ids:JSON.stringify(O.suggestedNews_ids)};console.log(r),(0,i.Z)({url:`${n.BD}/admin/create/news`,method:"post",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"multipart/form-data"},data:r}).then(e=>(console.log(e),w(!1),_.replace("/dashboard/myNews"),h.Am.success("تم حفظ الخبر في المسوده"))).catch(e=>(console.log(e),w(!1),h.Am.error("حدث خطا ما! حاول مجددا")))},value:"حفظ في مسوده",className:" text-white bg-gray-700 p-2 px-6 cursor-pointer hover:bg-gray-800 rounded-lg"})]})]})]})}},68938:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var a=r(68570);let s=(0,a.createProxy)(String.raw`D:\Programming\programming projects\important ptojects\news\news2\src\app\dashboard\(dashboard)\addNews\page.js`),{__esModule:n,$$typeof:i}=s;s.default;let o=(0,a.createProxy)(String.raw`D:\Programming\programming projects\important ptojects\news\news2\src\app\dashboard\(dashboard)\addNews\page.js#default`)},45735:()=>{},61121:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,1883,5231,6691,2105,2107],()=>r(42882));module.exports=a})();